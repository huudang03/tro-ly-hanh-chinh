
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·ª£ l√Ω h√†nh ch√≠nh x√£</title>
    <style>
        :root { --primary: #0a4fa3; --bg: #f4f6f8; }
        body { margin: 0; font-family: sans-serif; background: var(--bg); padding-bottom: 50px; }
        header { background: var(--primary); color: white; padding: 25px; text-align: center; }
        .container { max-width: 800px; margin: auto; padding: 20px; }
        .search-box { margin-bottom: 20px; }
        .search-box input { width: 100%; padding: 15px; border-radius: 10px; border: 1px solid #ccc; font-size: 16px; box-sizing: border-box; }
        .buttons { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; }
        .card { background: white; padding: 20px; border-radius: 12px; cursor: pointer; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: 0.3s; }
        .card:hover { background: #e0e7ff; transform: translateY(-3px); }
        #answer { margin-top: 25px; background: white; padding: 25px; border-radius: 12px; min-height: 100px; border-left: 6px solid #0a4fa3; white-space: pre-wrap; line-height: 1.6; }
        .loading { color: #0a4fa3; font-weight: bold; text-align: center; display: block; }
    </style>
</head>
<body>

<header>
    <h1>ü§ñ Tr·ª£ l√Ω th·ªß t·ª•c h√†nh ch√≠nh c·∫•p x√£</h1>
    <p>Gi·∫£i ƒë√°p nhanh th·ªß t·ª•c t∆∞ ph√°p, h·ªô t·ªãch</p>
</header>

<div class="container">
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Nh·∫≠p c√¢u h·ªèi v√† nh·∫•n Enter..." onkeypress="handleKeyPress(event)">
    </div>

    <div class="buttons">
        <div class="card" onclick="ask('Th·ªß t·ª•c l√†m th·∫ª CƒÉn c∆∞·ªõc c√¥ng d√¢n')"><h3>ü™™ CƒÉn c∆∞·ªõc</h3></div>
        <div class="card" onclick="ask('Th·ªß t·ª•c ƒëƒÉng k√Ω khai sinh')"><h3>üë∂ Khai sinh</h3></div>
        <div class="card" onclick="ask('Th·ªß t·ª•c ƒëƒÉng k√Ω t·∫°m tr√∫')"><h3>üìç T·∫°m tr√∫</h3></div>
        <div class="card" onclick="ask('X√°c nh·∫≠n t√¨nh tr·∫°ng h√¥n nh√¢n')"><h3>üíç K·∫øt h√¥n</h3></div>
    </div>

    <div id="answer">üëâ H√£y ch·ªçn m·ªôt m·ª•c ho·∫∑c ƒë·∫∑t c√¢u h·ªèi.</div>
</div>

<script type="importmap">
  {
    "imports": {
      "@google/generative-ai": "https://esm.run/@google/generative-ai"
    }
  }
</script>

<script type="module">
    import { GoogleGenerativeAI } from "@google/generative-ai";

    // 1. D√ÅN API KEY C·ª¶A B·∫†N V√ÄO ƒê√ÇY
    const API_KEY = "AIzaSyBdbns61Cm8eB4ywsfeYQ-QW5Ch4Frzy7c";
    const genAI = new GoogleGenerativeAI(API_KEY);

    window.ask = async function(question) {
        const box = document.getElementById("answer");
        box.innerHTML = "<span class='loading'>‚è≥ ƒêang k·∫øt n·ªëi v·ªõi tr√≠ tu·ªá nh√¢n t·∫°o...</span>";

        try {
            // S·ª≠ d·ª•ng model 'gemini-1.5-flash' th√¥ng qua th∆∞ vi·ªán
            const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
            
            const prompt = "B·∫°n l√† tr·ª£ l√Ω h√†nh ch√≠nh x√£. H√£y h∆∞·ªõng d·∫´n th·ªß t·ª•c: " + question;
            const result = await model.generateContent(prompt);
            const response = await result.response;
            const text = response.text();

            box.innerText = text;
        } catch (error) {
            box.innerHTML = `<div style="color:red">
                <b>‚ùå L·ªói k·∫øt n·ªëi:</b> ${error.message}<br>
                <p>H√£y ki·ªÉm tra l·∫°i API Key ho·∫∑c VPN (n·∫øu b·∫°n ƒëang ·ªü v√πng b·ªã gi·ªõi h·∫°n).</p>
            </div>`;
        }
    }

    window.handleKeyPress = function(event) {
        if (event.key === "Enter") {
            const q = document.getElementById("searchInput").value;
            if (q.trim()) window.ask(q);
        }
    }
</script>

</body>
</html>
