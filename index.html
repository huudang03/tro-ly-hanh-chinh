<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·ª£ l√Ω th·ªß t·ª•c h√†nh ch√≠nh c·∫•p x√£</title>

    <style>
        :root {
            --primary: #0a4fa3;
            --bg: #f4f6f8;
            --accent: #2563eb;
        }

        body {
            margin: 0;
            font-family: "Segoe UI", Arial, sans-serif;
            background: var(--bg);
            color: #333;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header h1 {
            margin: 0;
            font-size: 28px;
        }

        header p {
            margin-top: 10px;
            opacity: 0.9;
            font-size: 16px;
        }

        .container {
            max-width: 1000px;
            margin: auto;
            padding: 30px 20px;
        }

        .search-box {
            margin-bottom: 25px;
        }

        .search-box input {
            width: 100%;
            padding: 16px;
            font-size: 16px;
            border-radius: 12px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            box-sizing: border-box;
            outline: none;
            transition: 0.3s;
        }

        .search-box input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            transition: all 0.2s ease;
            text-align: center;
            border: 1px solid transparent;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--accent);
        }

        .card span {
            font-size: 32px;
            display: block;
            margin-bottom: 10px;
        }

        .card h3 {
            margin: 0;
            font-size: 16px;
            color: #444;
        }

        #answer {
            margin-top: 30px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            line-height: 1.8;
            white-space: pre-wrap;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            min-height: 120px;
            border-left: 5px solid var(--primary);
        }

        .loading {
            color: var(--accent);
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* Hi·ªáu ·ª©ng g√µ ch·ªØ cho sinh ƒë·ªông */
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
        .dot { animation: blink 1s infinite; }
    </style>
</head>

<body>

<header>
    <h1>ü§ñ Tr·ª£ l√Ω th·ªß t·ª•c h√†nh ch√≠nh c·∫•p x√£</h1>
    <p>H∆∞·ªõng d·∫´n nhanh ‚Äì ch√≠nh x√°c ‚Äì d·ªÖ hi·ªÉu cho ng∆∞·ªùi d√¢n</p>
</header>

<div class="container">

    <div class="search-box">
        <input type="text" id="searchInput" placeholder="üîç Nh·∫≠p c√¢u h·ªèi ho·∫∑c t√™n th·ªß t·ª•c (v√≠ d·ª•: l√†m khai sinh c·∫ßn g√¨?)..." onkeypress="handleKeyPress(event)">
    </div>

    <div class="buttons">
        <div class="card" onclick="ask('Th·ªß t·ª•c c·∫•p th·∫ª CƒÉn c∆∞·ªõc c√¥ng d√¢n m·ªõi nh·∫•t')">
            <span>ü™™</span>
            <h3>CƒÉn c∆∞·ªõc c√¥ng d√¢n</h3>
        </div>
        <div class="card" onclick="ask('H∆∞·ªõng d·∫´n ƒëƒÉng k√Ω khai sinh tr·ª±c tuy·∫øn v√† tr·ª±c ti·∫øp')">
            <span>üë∂</span>
            <h3>ƒêƒÉng k√Ω khai sinh</h3>
        </div>
        <div class="card" onclick="ask('Th·ªß t·ª•c ƒëƒÉng k√Ω khai t·ª≠')">
            <span>üïØÔ∏è</span>
            <h3>ƒêƒÉng k√Ω khai t·ª≠</h3>
        </div>
        <div class="card" onclick="ask('Th·ªß t·ª•c ƒëƒÉng k√Ω th∆∞·ªùng tr√∫ theo lu·∫≠t m·ªõi')">
            <span>üè†</span>
            <h3>Th∆∞·ªùng tr√∫</h3>
        </div>
        <div class="card" onclick="ask('Quy tr√¨nh ƒëƒÉng k√Ω t·∫°m tr√∫ cho ng∆∞·ªùi thu√™ nh√†')">
            <span>üìç</span>
            <h3>T·∫°m tr√∫</h3>
        </div>
        <div class="card" onclick="ask('Th·ªß t·ª•c xin gi·∫•y x√°c nh·∫≠n t√¨nh tr·∫°ng h√¥n nh√¢n')">
            <span>üíç</span>
            <h3>H√¥n nh√¢n</h3>
        </div>
        <div class="card" onclick="ask('Quy tr√¨nh ch·ª©ng th·ª±c b·∫£n sao t·ª´ b·∫£n ch√≠nh')">
            <span>üìÑ</span>
            <h3>Ch·ª©ng th·ª±c</h3>
        </div>
    </div>

    <div id="answer">
        üëâ <b>Ch√†o b·∫°n!</b> H√£y ch·ªçn m·ªôt th·ªß t·ª•c ·ªü tr√™n ho·∫∑c nh·∫≠p c√¢u h·ªèi v√†o √¥ t√¨m ki·∫øm, t√¥i s·∫Ω h∆∞·ªõng d·∫´n b·∫°n chi ti·∫øt c√°c b∆∞·ªõc th·ª±c hi·ªán.
    </div>

</div>

<script>
// --- C·∫§U H√åNH ---
// Thay chu·ªói d∆∞·ªõi ƒë√¢y b·∫±ng API Key c·ªßa b·∫°n
const API_KEY = "AIzaSyBlr2hK8YBAzq2CEjZxPcHFoJPXgjT5FkI"; 
const MODEL_NAME = "models/gemini-1.5-flash";

async function ask(question) {
    const box = document.getElementById("answer");
    
    // Hi·ªÉn th·ªã tr·∫°ng th√°i ƒëang t·∫£i
    box.innerHTML = `
        <div class="loading">
            <span>‚è≥ ƒêang tra c·ª©u th√¥ng tin ph√°p lu·∫≠t</span>
            <span class="dot">.</span><span class="dot" style="animation-delay: 0.2s">.</span><span class="dot" style="animation-delay: 0.4s">.</span>
        </div>`;

    try {
        const url = `https://generativelanguage.googleapis.com/v1beta/${MODEL_NAME}:generateContent?key=${API_KEY}`;
        
        const response = await fetch(url, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                contents: [{
                    parts: [{ 
                        text: `B·∫°n l√† tr·ª£ l√Ω ·∫£o chuy√™n v·ªÅ th·ªß t·ª•c h√†nh ch√≠nh c·∫•p x√£ t·∫°i Vi·ªát Nam. 
                               H√£y h∆∞·ªõng d·∫´n th·ªß t·ª•c: "${question}" 
                               Y√™u c·∫ßu: 
                               1. Tr√¨nh b√†y ng·∫Øn g·ªçn, d·ªÖ hi·ªÉu.
                               2. Chia r√µ c√°c m·ª•c: Th√†nh ph·∫ßn h·ªì s∆°, N∆°i n·ªôp, Th·ªùi gian ch·ªù.
                               3. Ng√¥n ng·ªØ th√¢n thi·ªán v·ªõi ng∆∞·ªùi d√¢n.` 
                    }]
                }]
            })
        });

        const data = await response.json();

        if (data.error) {
            box.innerHTML = `<span style="color: red;">‚ùå L·ªói API: ${data.error.message}</span>`;
            return;
        }

        if (data.candidates && data.candidates[0].content.parts[0].text) {
            const resultText = data.candidates[0].content.parts[0].text;
            // Hi·ªÉn th·ªã k·∫øt qu·∫£ (D√πng innerText ƒë·ªÉ an to√†n v√† gi·ªØ ƒë·ªãnh d·∫°ng xu·ªëng d√≤ng)
            box.innerText = resultText;
            // T·ª± ƒë·ªông cu·ªôn xu·ªëng ph·∫ßn c√¢u tr·∫£ l·ªùi
            box.scrollIntoView({ behavior: 'smooth' });
        } else {
            box.innerText = "‚ùå Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu. B·∫°n h√£y th·ª≠ ƒë·∫∑t c√¢u h·ªèi kh√°c r√µ r√†ng h∆°n.";
        }

    } catch (e) {
        box.innerHTML = `<span style="color: red;">‚ùå Kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c m√°y ch·ªß. Vui l√≤ng ki·ªÉm tra l·∫°i m·∫°ng ho·∫∑c API Key.</span>`;
        console.error("Error details:", e);
    }
}

// Cho ph√©p ng∆∞·ªùi d√πng nh·∫•n Enter ƒë·ªÉ t√¨m ki·∫øm
function handleKeyPress(event) {
    if (event.key === "Enter") {
        const query = document.getElementById("searchInput").value;
        if (query.trim() !== "") {
            ask(query);
        }
    }
}
</script>

</body>
</html>
